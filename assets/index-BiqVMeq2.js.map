{"version":3,"file":"index-BiqVMeq2.js","sources":["../../src/js/const.js","../../src/js/buttons.js","../../src/js/modalResolve.js","../../src/js/main.js"],"sourcesContent":["const gameWrapper = document.createElement('div');\r\ngameWrapper.classList.add('game__wrapper');\r\n\r\nconst gameTitle = document.createElement('div');\r\ngameTitle.classList.add('game__title');\r\ngameTitle.innerHTML = '<p>NONOGRAM GAME</p>';\r\n\r\n// Nonogram\r\nconst nonogram = document.createElement('div');\r\nnonogram.classList.add('nonogram');\r\nnonogram.classList.add('hidden');\r\n\r\nconst nonogramClose = document.createElement('div');\r\nnonogramClose.classList.add('nonogram__close');\r\nnonogramClose.classList.add('hidden');\r\nnonogramClose.innerHTML = '<p>X</p>';\r\n\r\nconst nonogramWrapper = document.createElement('div');\r\nnonogramWrapper.classList.add('nonogram__wrapper');\r\nnonogramWrapper.classList.add('hidden');\r\n\r\nconst nonogramButtons = document.createElement('div');\r\nnonogramButtons.classList.add('nonogram__buttons');\r\n\r\nexport {\r\n  gameWrapper, gameTitle, nonogram, nonogramClose, nonogramWrapper, nonogramButtons,\r\n};\r\n","// Game`s buttons wrapper\r\nconst gameButtons = document.createElement('div');\r\ngameButtons.classList.add('game__buttons');\r\ngameButtons.classList.add('buttons');\r\n\r\n// Start new\r\nconst buttonNew = document.createElement('div');\r\nbuttonNew.classList.add('buttons__new');\r\nbuttonNew.classList.add('button');\r\nbuttonNew.innerHTML = '<span>Start Random</span>';\r\n\r\n// Continue button\r\nconst buttonContinue = document.createElement('div');\r\nbuttonContinue.classList.add('buttons__continue');\r\nbuttonContinue.classList.add('button');\r\nbuttonContinue.innerHTML = '<span>Continue</span>';\r\n\r\n// Reload button\r\nconst buttonReload = document.createElement('div');\r\nbuttonReload.classList.add('buttons__reload');\r\nbuttonReload.classList.add('button');\r\nbuttonReload.innerHTML = '<span>Reload</span>';\r\n\r\n// Save game button\r\nconst buttonSave = document.createElement('div');\r\nbuttonSave.classList.add('buttons__save');\r\nbuttonSave.classList.add('button');\r\nbuttonSave.innerHTML = '<span>Save</span>';\r\n\r\n// Solution button\r\nconst buttonSolution = document.createElement('div');\r\nbuttonSolution.classList.add('buttons__solution');\r\nbuttonSolution.classList.add('button');\r\nbuttonSolution.innerHTML = '<span>Solution</span>';\r\n\r\n// Settings buttons wrapper\r\nconst settingsButtons = document.createElement('div');\r\nsettingsButtons.classList.add('settings__buttons');\r\nsettingsButtons.classList.add('buttons');\r\n\r\n// Settings button\r\nconst buttonSettings = document.createElement('div');\r\nbuttonSettings.classList.add('buttons__setting');\r\nbuttonSettings.classList.add('button');\r\nbuttonSettings.innerHTML = '<span>Settings</span>';\r\n\r\n// Sound button\r\n\r\nconst soundSettings = document.createElement('div');\r\nsoundSettings.classList.add('sound__setting');\r\nsoundSettings.classList.add('button');\r\nsoundSettings.innerHTML = '<span>Sound: on/off</span>';\r\n\r\nconst backButton = document.createElement('div');\r\nbackButton.classList.add('buttons__back');\r\nbackButton.classList.add('button');\r\nbackButton.innerHTML = '<span>back</span>';\r\n\r\n// Leaderboard button\r\nconst buttonLeaderBoard = document.createElement('div');\r\nbuttonLeaderBoard.classList.add('buttons__leaderboard');\r\nbuttonLeaderBoard.classList.add('button');\r\nbuttonLeaderBoard.innerHTML = '<span>Leaderboard</span>';\r\n\r\nexport {\r\n  gameButtons, buttonReload, buttonSettings, buttonNew, buttonContinue, buttonLeaderBoard,\r\n  buttonSave, buttonSolution, soundSettings, settingsButtons, backButton,\r\n};\r\n","// Results modal\r\nexport default function modalResolve() {\r\n  const modalResolveWrapper = document.createElement('div');\r\n  modalResolveWrapper.classList.add('modal__wrapper');\r\n  document.body.appendChild(modalResolveWrapper);\r\n\r\n  const modalResolveInner = document.createElement('div');\r\n  modalResolveInner.classList.add('modal__resolve');\r\n  modalResolveWrapper.appendChild(modalResolveInner);\r\n\r\n  const paragraph = document.createElement('p');\r\n  paragraph.classList.add('modal__title');\r\n  paragraph.textContent = 'CONGRATULATIONS!';\r\n  modalResolveInner.appendChild(paragraph);\r\n\r\n  const modalClose = document.createElement('div');\r\n  modalClose.classList.add('modal__close');\r\n  modalResolveInner.appendChild(modalClose);\r\n  modalClose.innerHTML = '<p>X</p >';\r\n\r\n  return {\r\n    modalResolveWrapper, modalResolveInner, paragraph, modalClose,\r\n  };\r\n}\r\n","import {\r\n  gameWrapper, gameTitle, nonogram, nonogramClose, nonogramWrapper, nonogramButtons,\r\n} from './const';\r\nimport {\r\n  gameButtons, buttonReload, buttonSettings, buttonNew, buttonContinue, buttonLeaderBoard,\r\n  buttonSave, buttonSolution, soundSettings, settingsButtons, backButton,\r\n} from './buttons';\r\n\r\nimport modalResolve from './modalResolve';\r\n\r\nlet pattern;\r\n\r\nconst audio = new Audio('../audio/pizza.mp3');\r\n\r\n// HTML rendering\r\ndocument.body.appendChild(gameWrapper);\r\n\r\ngameWrapper.appendChild(gameTitle);\r\n\r\ngameWrapper.appendChild(gameButtons);\r\ngameButtons.appendChild(buttonNew);\r\ngameButtons.appendChild(buttonContinue);\r\ngameButtons.appendChild(buttonSettings);\r\ngameButtons.appendChild(buttonLeaderBoard);\r\n\r\ngameWrapper.appendChild(nonogramWrapper);\r\nnonogramWrapper.appendChild(nonogram);\r\nnonogram.appendChild(nonogramClose);\r\nnonogramWrapper.appendChild(nonogramButtons);\r\nnonogramButtons.appendChild(buttonReload);\r\nnonogramButtons.appendChild(buttonSave);\r\nnonogramButtons.appendChild(buttonSolution);\r\nsettingsButtons.appendChild(backButton);\r\n\r\n// ОТРИСОВКА НОНОГРАММЫ\r\nconst table = document.createElement('table');\r\n\r\nfor (let i = 0; i < 5; i += 1) {\r\n  const row = document.createElement('tr');\r\n\r\n  for (let j = 0; j < 5; j += 1) {\r\n    const cell = document.createElement('td');\r\n    cell.className = 'nonogram-cell';\r\n    row.appendChild(cell);\r\n  }\r\n\r\n  table.appendChild(row);\r\n}\r\n\r\nnonogram.appendChild(table);\r\n\r\n// НАЧАЛЬНОЕ СОСТОЯНИЕ НОНОГРАММЫ 5x5\r\n\r\nconst numRows = 5;\r\nconst numCols = 5;\r\n\r\nexport default function createState() {\r\n  const State = new Map();\r\n  return {\r\n    get(row, col) {\r\n      return State.get(`${row}, ${col}`) || 0;\r\n    },\r\n    set(row, col, value) {\r\n      if (value !== 0) {\r\n        State.set(`${row}, ${col}`, value);\r\n      } else {\r\n        State.delete(`${row}, ${col}`);\r\n      }\r\n    },\r\n  };\r\n}\r\n\r\nconst initialNonogramState = createState();\r\n\r\n// ОТОБРАЖЕНИЕ ВЫБОРА\r\n\r\nfunction renderNonogram() {\r\n  const tableRows = table.getElementsByTagName('tr');\r\n\r\n  for (let i = 0; i < numRows; i += 1) {\r\n    const cells = tableRows[i].getElementsByTagName('td');\r\n\r\n    for (let j = 0; j < numCols; j += 1) {\r\n      const sellValue = initialNonogramState.get(i, j);\r\n\r\n      const cell = cells[j];\r\n\r\n      cell.style.backgroundColor = sellValue === 1 ? 'black' : 'white';\r\n    }\r\n  }\r\n}\r\nrenderNonogram();\r\n\r\n// ДОБАВЛЯЕТ ПОДСКАЗКИ\r\n\r\nfunction generateHints() {\r\n  const generateNumRows = pattern.length;\r\n  const generateNumCols = pattern[0].length;\r\n\r\n  const rowHints = [];\r\n  const colHints = [];\r\n\r\n  // Генерация подсказок для строк\r\n  for (let i = 0; i < generateNumRows; i += 1) {\r\n    const row = pattern[i];\r\n    const rowHint = [];\r\n    let count = 0;\r\n    for (let j = 0; j < generateNumCols; j += 1) {\r\n      if (row[j] === 1) {\r\n        count += 1;\r\n      } else if (count > 0) {\r\n        rowHint.push(count);\r\n        count = 0;\r\n      }\r\n    }\r\n    if (count > 0) {\r\n      rowHint.push(count);\r\n    }\r\n    rowHints.push(rowHint);\r\n  }\r\n\r\n  // Генерация подсказок для столбцов\r\n  for (let j = 0; j < generateNumCols; j += 1) {\r\n    const colHint = [];\r\n    let count = 0;\r\n    let hasFilledCell = false;\r\n    for (let i = 0; i < generateNumRows; i += 1) {\r\n      if (pattern[i][j] === 1) {\r\n        count += 1;\r\n        hasFilledCell = true;\r\n      } else if (count > 0) {\r\n        colHint.push(count);\r\n        count = 0;\r\n      }\r\n    }\r\n    if (count > 0) {\r\n      colHint.push(count);\r\n    }\r\n    if (!hasFilledCell) {\r\n      colHint.push(0); // Добавляем 0, если в столбце нет закрашенных ячеек\r\n    }\r\n    colHints.push(colHint);\r\n  }\r\n\r\n  return { row: rowHints, col: colHints };\r\n}\r\n\r\n// Отображение шифра нонограммы\r\n\r\n// clear hints\r\nfunction clearHints() {\r\n  const existingHints = document.querySelectorAll('.hints');\r\n  existingHints.forEach((hint) => hint.parentNode.removeChild(hint));\r\n}\r\n\r\nfunction renderHints(hints) {\r\n  clearHints();\r\n  const { row: rowHints, col: colHints } = hints;\r\n\r\n  // для строк\r\n  const rowHintsContainer = document.createElement('div');\r\n  rowHintsContainer.classList.add('hints', 'row-hints');\r\n  nonogram.appendChild(rowHintsContainer);\r\n\r\n  for (let i = 0; i < rowHints.length; i += 1) {\r\n    const rowHint = rowHints[i];\r\n    const rowHintElement = document.createElement('div');\r\n    rowHintElement.classList.add('hint');\r\n    rowHintElement.textContent = rowHint.join(' ');\r\n    rowHintsContainer.appendChild(rowHintElement);\r\n  }\r\n\r\n  // для столбцов\r\n  const colHintsContainer = document.createElement('div');\r\n  colHintsContainer.classList.add('hints', 'col-hints');\r\n  nonogram.appendChild(colHintsContainer);\r\n\r\n  for (let j = 0; j < colHints.length; j += 1) {\r\n    const colHint = colHints[j];\r\n    const colHintElement = document.createElement('div');\r\n    colHintElement.classList.add('hint');\r\n    colHintElement.textContent = colHint.join('\\n');\r\n    colHintsContainer.appendChild(colHintElement);\r\n  }\r\n}\r\n\r\nfunction checkSolution() {\r\n  for (let i = 0; i < numRows; i += 1) {\r\n    for (let j = 0; j < numCols; j += 1) {\r\n      const cellValue = initialNonogramState.get(i, j);\r\n      if (cellValue !== pattern[i][j]) {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\n// CLEAR NONOGRAM\r\nfunction resetGame() {\r\n  for (let i = 0; i < numRows; i += 1) {\r\n    for (let j = 0; j < numCols; j += 1) {\r\n      initialNonogramState.set(i, j, 0); // Устанавливаем значение ячейки в 0\r\n    }\r\n  }\r\n  renderNonogram(); // Перерисовываем нонограмму\r\n}\r\n\r\n// PARSE JSON\r\n\r\n// random\r\nfunction getRandomPattern(data) {\r\n  const index = Math.floor(Math.random() * data.nonograms.length);\r\n  return data.nonograms[index].pattern;\r\n}\r\n\r\n// parse\r\nfunction initGame() {\r\n  fetch('nonograms.json')\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      pattern = getRandomPattern(data);\r\n      const hints = generateHints(pattern);\r\n      renderNonogram(pattern);\r\n      checkSolution(pattern);\r\n      renderHints(hints);\r\n    });\r\n}\r\n\r\n// BUTTONS\r\n\r\n// START NEW BUTTON\r\nfunction startGame() {\r\n  buttonNew.addEventListener('click', () => {\r\n    initGame();\r\n    nonogramWrapper.classList.remove('hidden');\r\n    gameButtons.classList.add('hidden');\r\n    resetGame();\r\n  });\r\n}\r\nstartGame();\r\n\r\n// CONTINUE BUTTON\r\nfunction continueGame() {\r\n  buttonContinue.addEventListener('click', () => {\r\n    nonogramWrapper.classList.remove('hidden');\r\n    gameButtons.classList.add('hidden');\r\n  });\r\n}\r\ncontinueGame();\r\n\r\n// SETTINGS BUTTON\r\nfunction settingsButton() {\r\n  buttonSettings.addEventListener('click', () => {\r\n    gameButtons.classList.add('hidden');\r\n    gameWrapper.appendChild(settingsButtons);\r\n    settingsButtons.classList.remove('hidden');\r\n    settingsButtons.appendChild(soundSettings);\r\n  });\r\n}\r\n\r\nsettingsButton();\r\n\r\n// back Button\r\nbackButton.addEventListener('click', () => {\r\n  settingsButtons.classList.add('hidden');\r\n  gameButtons.classList.remove('hidden');\r\n});\r\n\r\n// sound settings\r\n\r\nfunction soundOnOff() {\r\n  soundSettings.addEventListener('click', () => {\r\n    if (audio.paused) {\r\n      audio.play();\r\n    } else {\r\n      audio.pause();\r\n    }\r\n  });\r\n}\r\n\r\nsoundOnOff();\r\n\r\n// RELOAD BUTTON\r\nbuttonReload.addEventListener('click', () => {\r\n  resetGame();\r\n});\r\n\r\n// Button Solution\r\nbuttonSolution.addEventListener('click', () => {\r\n  for (let i = 0; i < numRows; i += 1) {\r\n    for (let j = 0; j < numCols; j += 1) {\r\n      const cellValue = pattern[i][j];\r\n      initialNonogramState.set(i, j, cellValue);\r\n    }\r\n  }\r\n  renderNonogram();\r\n});\r\n\r\n// CLOSE NONOGRAM\r\nnonogramClose.addEventListener('click', () => {\r\n  nonogramWrapper.classList.add('hidden');\r\n  gameButtons.classList.remove('hidden');\r\n});\r\n\r\n// ОБРАБАТЫВАЕТ НАЖАТИЯ ПО НОНОГРАММЕ\r\n\r\nfunction clickNonogram(event) {\r\n  const cell = event.target;\r\n  const { rowIndex } = cell.parentElement;\r\n  const { cellIndex } = cell;\r\n\r\n  const currentValue = initialNonogramState.get(rowIndex, cellIndex);\r\n  const newValue = currentValue === 1 ? 0 : 1;\r\n  initialNonogramState.set(rowIndex, cellIndex, newValue);\r\n\r\n  renderNonogram();\r\n\r\n  if (checkSolution(pattern)) {\r\n    const { modalResolveWrapper, modalClose } = modalResolve();\r\n    modalClose.addEventListener('click', () => {\r\n      modalResolveWrapper.classList.add('hidden');\r\n      nonogramWrapper.classList.add('hidden');\r\n      gameButtons.classList.remove('hidden');\r\n    });\r\n  }\r\n}\r\n\r\nconst nonogramCells = document.querySelectorAll('.nonogram-cell');\r\nnonogramCells.forEach((cell) => {\r\n  cell.addEventListener('click', clickNonogram);\r\n});\r\n"],"names":["gameWrapper","gameTitle","nonogram","nonogramClose","nonogramWrapper","nonogramButtons","gameButtons","buttonNew","buttonContinue","buttonReload","buttonSave","buttonSolution","settingsButtons","buttonSettings","soundSettings","backButton","buttonLeaderBoard","modalResolve","modalResolveWrapper","modalResolveInner","paragraph","modalClose","pattern","audio","table","i","row","j","cell","numRows","numCols","createState","State","col","value","initialNonogramState","renderNonogram","tableRows","cells","sellValue","generateHints","generateNumRows","generateNumCols","rowHints","colHints","rowHint","count","colHint","hasFilledCell","clearHints","hint","renderHints","hints","rowHintsContainer","rowHintElement","colHintsContainer","colHintElement","checkSolution","resetGame","getRandomPattern","data","index","initGame","response","startGame","continueGame","settingsButton","soundOnOff","cellValue","clickNonogram","event","rowIndex","cellIndex","newValue","nonogramCells"],"mappings":"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"}