(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))d(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&d(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function d(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const L=document.createElement("div");L.classList.add("game__wrapper");const j=document.createElement("div");j.classList.add("game__title");j.innerHTML="<p>NONOGRAM GAME</p>";const p=document.createElement("div");p.classList.add("nonogram");p.classList.add("hidden");const f=document.createElement("div");f.classList.add("nonogram__close");f.classList.add("hidden");f.innerHTML="<p>X</p>";const l=document.createElement("div");l.classList.add("nonogram__wrapper");l.classList.add("hidden");const g=document.createElement("div");g.classList.add("nonogram__buttons");const c=document.createElement("div");c.classList.add("game__buttons");c.classList.add("buttons");const v=document.createElement("div");v.classList.add("buttons__new");v.classList.add("button");v.innerHTML="<span>Start Random</span>";const E=document.createElement("div");E.classList.add("buttons__continue");E.classList.add("button");E.innerHTML="<span>Continue</span>";const C=document.createElement("div");C.classList.add("buttons__reload");C.classList.add("button");C.innerHTML="<span>Reload</span>";const M=document.createElement("div");M.classList.add("buttons__save");M.classList.add("button");M.innerHTML="<span>Save</span>";const b=document.createElement("div");b.classList.add("buttons__solution");b.classList.add("button");b.innerHTML="<span>Solution</span>";const m=document.createElement("div");m.classList.add("settings__buttons");m.classList.add("buttons");const _=document.createElement("div");_.classList.add("buttons__setting");_.classList.add("button");_.innerHTML="<span>Settings</span>";const H=document.createElement("div");H.classList.add("sound__setting");H.classList.add("button");H.innerHTML="<span>Sound: on/off</span>";const w=document.createElement("div");w.classList.add("buttons__back");w.classList.add("button");w.innerHTML="<span>back</span>";const N=document.createElement("div");N.classList.add("buttons__leaderboard");N.classList.add("button");N.innerHTML="<span>Leaderboard</span>";function A(){const t=document.createElement("div");t.classList.add("modal__wrapper"),document.body.appendChild(t);const e=document.createElement("div");e.classList.add("modal__resolve"),t.appendChild(e);const o=document.createElement("p");o.classList.add("modal__title"),o.textContent="CONGRATULATIONS!",e.appendChild(o);const d=document.createElement("div");return d.classList.add("modal__close"),e.appendChild(d),d.innerHTML="<p>X</p >",{modalResolveWrapper:t,modalResolveInner:e,paragraph:o,modalClose:d}}let u;const R=new Audio("../audio/pizza.mp3");document.body.appendChild(L);L.appendChild(j);L.appendChild(c);c.appendChild(v);c.appendChild(E);c.appendChild(_);c.appendChild(N);L.appendChild(l);l.appendChild(p);p.appendChild(f);l.appendChild(g);g.appendChild(C);g.appendChild(M);g.appendChild(b);m.appendChild(w);const k=document.createElement("table");for(let t=0;t<5;t+=1){const e=document.createElement("tr");for(let o=0;o<5;o+=1){const d=document.createElement("td");d.className="nonogram-cell",e.appendChild(d)}k.appendChild(e)}p.appendChild(k);const S=5,T=5;function B(){const t=new Map;return{get(e,o){return t.get(`${e}, ${o}`)||0},set(e,o,d){d!==0?t.set(`${e}, ${o}`,d):t.delete(`${e}, ${o}`)}}}const h=B();function y(){const t=k.getElementsByTagName("tr");for(let e=0;e<S;e+=1){const o=t[e].getElementsByTagName("td");for(let d=0;d<T;d+=1){const n=h.get(e,d),s=o[d];s.style.backgroundColor=n===1?"black":"white"}}}y();function G(){const t=u.length,e=u[0].length,o=[],d=[];for(let n=0;n<t;n+=1){const s=u[n],a=[];let i=0;for(let r=0;r<e;r+=1)s[r]===1?i+=1:i>0&&(a.push(i),i=0);i>0&&a.push(i),o.push(a)}for(let n=0;n<e;n+=1){const s=[];let a=0,i=!1;for(let r=0;r<t;r+=1)u[r][n]===1?(a+=1,i=!0):a>0&&(s.push(a),a=0);a>0&&s.push(a),i||s.push(0),d.push(s)}return{row:o,col:d}}function V(){document.querySelectorAll(".hints").forEach(e=>e.parentNode.removeChild(e))}function $(t){V();const{row:e,col:o}=t,d=document.createElement("div");d.classList.add("hints","row-hints"),p.appendChild(d);for(let s=0;s<e.length;s+=1){const a=e[s],i=document.createElement("div");i.classList.add("hint"),i.textContent=a.join(" "),d.appendChild(i)}const n=document.createElement("div");n.classList.add("hints","col-hints"),p.appendChild(n);for(let s=0;s<o.length;s+=1){const a=o[s],i=document.createElement("div");i.classList.add("hint"),i.textContent=a.join(`
`),n.appendChild(i)}}function O(){for(let t=0;t<S;t+=1)for(let e=0;e<T;e+=1)if(h.get(t,e)!==u[t][e])return!1;return!0}function x(){for(let t=0;t<S;t+=1)for(let e=0;e<T;e+=1)h.set(t,e,0);y()}function I(t){const e=Math.floor(Math.random()*t.nonograms.length);return t.nonograms[e].pattern}function P(){fetch("nonograms.json").then(t=>t.json()).then(t=>{u=I(t);const e=G();y(),O(),$(e)})}function W(){v.addEventListener("click",()=>{P(),l.classList.remove("hidden"),c.classList.add("hidden"),x()})}W();function q(){E.addEventListener("click",()=>{l.classList.remove("hidden"),c.classList.add("hidden")})}q();function z(){_.addEventListener("click",()=>{c.classList.add("hidden"),L.appendChild(m),m.classList.remove("hidden"),m.appendChild(H)})}z();w.addEventListener("click",()=>{m.classList.add("hidden"),c.classList.remove("hidden")});function F(){H.addEventListener("click",()=>{R.paused?R.play():R.pause()})}F();C.addEventListener("click",()=>{x()});b.addEventListener("click",()=>{for(let t=0;t<S;t+=1)for(let e=0;e<T;e+=1){const o=u[t][e];h.set(t,e,o)}y()});f.addEventListener("click",()=>{l.classList.add("hidden"),c.classList.remove("hidden")});function X(t){const e=t.target,{rowIndex:o}=e.parentElement,{cellIndex:d}=e,s=h.get(o,d)===1?0:1;if(h.set(o,d,s),y(),O()){const{modalResolveWrapper:a,modalClose:i}=A();i.addEventListener("click",()=>{a.classList.add("hidden"),l.classList.add("hidden"),c.classList.remove("hidden")})}}const K=document.querySelectorAll(".nonogram-cell");K.forEach(t=>{t.addEventListener("click",X)});
//# sourceMappingURL=index-BiqVMeq2.js.map
