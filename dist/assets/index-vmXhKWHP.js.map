{"version":3,"file":"index-vmXhKWHP.js","sources":["../../main.js"],"sourcesContent":["import './style.css';\n\nconst pageWrapper = document.createElement('div');\npageWrapper.classList.add('page__wrapper');\ndocument.body.appendChild(pageWrapper);\n\n// ЗАГОЛОВОК\n\nconst nonogramTitle = document.createElement('div');\nnonogramTitle.classList.add('nonogram__title');\nnonogramTitle.innerHTML = '<p>NONOGRAM GAME</p>';\npageWrapper.appendChild(nonogramTitle);\n\n// Wrapper нонограммы\n\nconst nonogramWrapper = document.createElement('div');\nnonogramWrapper.classList.add('nonogram__wrapper');\npageWrapper.appendChild(nonogramWrapper);\n\n// ОТРИСОВКА НОНОГРАММЫ\n\nconst table = document.createElement('table');\n\nfor (let i = 0; i < 5; i += 1) {\n  const row = document.createElement('tr');\n\n  for (let j = 0; j < 5; j += 1) {\n    const cell = document.createElement('td');\n    cell.className = 'nonogram-cell';\n    row.appendChild(cell);\n  }\n\n  table.appendChild(row);\n}\n\nnonogramWrapper.appendChild(table);\n\n// НАЧАЛЬНОЕ СОСТОЯНИЕ НОНОГРАММЫ 5x5\n\nconst numRows = 5;\nconst numCols = 5;\n\nfunction createState() {\n  const State = new Map();\n  return {\n    get(row, col) {\n      return State.get(`${row}, ${col}`) || 0;\n    },\n    set(row, col, value) {\n      if (value !== 0) {\n        State.set(`${row}, ${col}`, value);\n      } else {\n        State.delete(`${row}, ${col}`);\n      }\n    },\n  };\n}\n\nconst initialNonogramState = createState();\n\n// ОТОБРАЖЕНИЕ ВЫБОРА\n\nfunction renderNonogram() {\n  const tableRows = table.getElementsByTagName('tr');\n\n  for (let i = 0; i < numRows; i += 1) {\n    const cells = tableRows[i].getElementsByTagName('td');\n\n    for (let j = 0; j < numCols; j += 1) {\n      const sellValue = initialNonogramState.get(i, j);\n\n      const cell = cells[j];\n\n      cell.style.backgroundColor = sellValue === 1 ? 'black' : 'white';\n    }\n  }\n}\nrenderNonogram();\n\n// ОБРАБОТЧИК СОБЫТИЙ\n\nfunction clickNonogram(event) {\n  const cell = event.target;\n  const rowIndex = cell.parentElement.rowIndex;\n  const cellIndex = cell.cellIndex;\n\n  const currentValue = initialNonogramState.get(rowIndex, cellIndex);\n  const newValue = currentValue === 1 ? 0 : 1;\n  initialNonogramState.set(rowIndex, cellIndex, newValue);\n\n  renderNonogram();\n}\n\nconst cells = document.querySelectorAll('.nonogram-cell');\ncells.forEach((cell) => {\n  cell.addEventListener('click', clickNonogram);\n});\n\n// ДОБАВЛЯЕТ ПОДСКАЗКИ\n\nfunction generateHints(pattern) {\n  const numRows = pattern.length;\n  const numCols = pattern[0].length;\n\n  const rowHints = [];\n  const colHints = [];\n\n  // Генерация подсказок для строк\n  for (let i = 0; i < numRows; i += 1) {\n    const row = pattern[i];\n    const rowHint = [];\n    let count = 0;\n    for (let j = 0; j < numCols; j += 1) {\n      if (row[j] === 1) {\n        count += 1;\n      } else if (count > 0) {\n        rowHint.push(count);\n        count = 0;\n      }\n    }\n    if (count > 0) {\n      rowHint.push(count);\n    }\n    rowHints.push(rowHint);\n  }\n\n  // Генерация подсказок для столбцов\n  for (let j = 0; j < numCols; j += 1) {\n    const colHint = [];\n    let count = 0;\n    let hasFilledCell = false;\n    for (let i = 0; i < numRows; i += 1) {\n      if (pattern[i][j] === 1) {\n        count += 1;\n        hasFilledCell = true;\n      } else if (count > 0) {\n        colHint.push(count);\n        count = 0;\n      }\n    }\n    if (count > 0) {\n      colHint.push(count);\n    }\n    if (!hasFilledCell) {\n      colHint.push(0); // Добавляем 0, если в столбце нет закрашенных ячеек\n    }\n    colHints.push(colHint);\n  }\n\n  return { row: rowHints, col: colHints };\n}\n\n// Шаблон рисунка\nconst pattern = [\n  [0, 1, 0, 1, 1],\n  [0, 1, 0, 1, 0],\n  [0, 1, 0, 1, 1],\n  [1, 1, 0, 0, 1],\n  [0, 0, 0, 1, 1],\n];\n\nconst hints = generateHints(pattern);\n\n// Отображение подсказок\nfunction renderHints() {\n  const { row: rowHints, col: colHints } = hints;\n\n  // Отображение подсказок для строк\n  const rowHintsContainer = document.createElement('div');\n  rowHintsContainer.classList.add('hints', 'row-hints');\n  nonogramWrapper.appendChild(rowHintsContainer);\n\n  for (let i = 0; i < rowHints.length; i += 1) {\n    const rowHint = rowHints[i];\n    const rowHintElement = document.createElement('div');\n    rowHintElement.classList.add('hint');\n    rowHintElement.textContent = rowHint.join(' ');\n    rowHintsContainer.appendChild(rowHintElement);\n  }\n\n  // Отображение подсказок для столбцов\n  const colHintsContainer = document.createElement('div');\n  colHintsContainer.classList.add('hints', 'col-hints');\n  nonogramWrapper.appendChild(colHintsContainer);\n\n  for (let j = 0; j < colHints.length; j += 1) {\n    const colHint = colHints[j];\n    const colHintElement = document.createElement('div');\n    colHintElement.classList.add('hint');\n    colHintElement.textContent = colHint.join('\\n');\n    colHintsContainer.appendChild(colHintElement);\n  }\n}\n// Отображение сгенерированных подсказок\nrenderHints();\n"],"names":["pageWrapper","nonogramTitle","nonogramWrapper","table","i","row","j","cell","numRows","numCols","createState","State","col","value","initialNonogramState","renderNonogram","tableRows","cells","sellValue","clickNonogram","event","rowIndex","cellIndex","newValue","generateHints","pattern","rowHints","colHints","rowHint","count","colHint","hasFilledCell","hints","renderHints","rowHintsContainer","rowHintElement","colHintsContainer","colHintElement"],"mappings":"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"}